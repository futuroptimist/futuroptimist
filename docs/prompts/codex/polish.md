### Futuroptimist — Polish Plan

This doc contains two runnable prompts for OpenAI Codex.

---

## Section 1 — **Polish Prompt (one-click, evergreen)**

~~~md
# Futuroptimist — Polish Prompt (One-Click, Evergreen)

You are operating on the repository: **futuroptimist/futuroptimist**.

**Mission**
Perform a holistic polish pass that improves structure, clarity, maintainability, and contributor experience **without changing runtime behavior**. Treat this as a phase-2 refinement used after `implement.md` starts to saturate (low orthogonality among variants). The work must be **idempotent** and **small, readable** in a single PR.

**Constraints**
- Keep public interfaces and CI behavior stable.
- Prefer **moving/renaming** and documentation over rewrites.
- No hard-coding of ephemeral data (timestamps, SHAs).
- If something is uncertain, propose the change in the PR description instead of forcing it.

**Deliverables (in a single PR on branch `chore/polish-docs-and-structure`)**
1) **Repo Snapshot (autogenerated in the PR description)**
   - Enumerate languages; key directories; presence of: `README`, `CONTRIBUTING`, `CODE_OF_CONDUCT`, `LICENSE`, `Makefile` or task runner, `pyproject.toml`/`requirements*`, pre-commit hooks, coverage config, and CI workflows.
   - Detect whether Python dependency management uses `uv` or other tools; note test/coverage posture.
   - List prompt docs currently present.

2) **Prompt-docs standardization**
   - Ensure `docs/prompts/codex/` exists.
   - Move any existing prompt docs there; **rename** to drop `prompt(s)`/`codex` from filenames since those are implied by the path.
   - Keep (if present) canonical names: `automation.md`, `implement.md`, `polish.md`, `agents.md`, `playbook.md`.
   - Update internal links (README, docs) accordingly.
   - Add a tiny idempotent script: `scripts/migrate-prompt-docs.sh` that performs these moves/renames safely (no-op if repeated) and prints a clear consolidation message when nothing changes. Include usage in `docs/README.md`.
   - The migration script should exit cleanly when no moves are required so reruns stay a no-op.

3) **Directory hygiene & layout recommendations (central hub repo)**
   - Reduce **root** clutter. Recommend/introduce a shallow, legible layout:
     ```
     apps/           # runnable CLI(s) or services (if any exist)
     packages/       # reusable Python libs shared across tools (if any)
     pipelines/      # scheduled jobs / data refresh tasks
     scripts/        # small operational scripts (non-library)
     data/           # small sample datasets or fixtures (non-secret; or empty with README)
     docs/           # documentation (incl. prompts)
     tests/          # test suite
     infra/          # CI, release, container, GitOps manifests (if applicable)
     ```
   - If current directories already exist under different names, prefer **moves** with link updates.
   - Add/refresh a “**Map of the repo**” section in `README` that links a newcomer to **setup → run → test** in ≤3 clicks.

4) **Config, tooling & DX**
   - If `uv` is present, document `uv` workflows (`uv sync`, `uv run`, `uvx`) and reflect them in `Makefile`/task recipes.
   - Add/refresh `pre-commit` hooks (format, lint, spell, links).
   - Ensure coverage thresholds are enforced; surface coverage badge if appropriate.
   - Add a docs link checker and spell checker to CI if missing.

5) **Testing & safety nets**
   - Ensure unit tests run green locally via one command (e.g., `make test` or `uv run pytest`).
   - Provide smoke tests for any CLI entry points.
   - If the repo renders any dashboards/readmes from scripts, add a “dry-run” flag and document it.

6) **Orthogonality & saturation tracker**
   - Append or update `docs/prompt-saturation-rubric.md` with guidance on when to pivot from `implement.md` to polish tasks (e.g., when variant PRs begin to collide, or delta per variant diminishes).
   - Include a simple checkbox list to record observed collisions and PR overlap.

**File edits to stage**
- `docs/prompts/codex/polish.md` (this file exists by this run; do not overwrite content outside the two sections).
- `docs/README.md` (short “Prompt docs” index with links).
- `scripts/migrate-prompt-docs.sh` (idempotent; POSIX shell).
- Renames/moves of any existing prompt docs into `docs/prompts/codex/`.
- Optional: `README` “Map of the repo” and quickstart improvements.

**PR contents & formatting**
- Branch: `chore/polish-docs-and-structure`
- Title: `chore: polish docs + structure (idempotent)`
- Body:
  - Repo Snapshot (bullets)
  - What changed (moves/renames; no functional changes)
  - How to test locally
  - Idempotency notes

**Success criteria**
- CI stays green.
- Re-running this prompt causes **no diff** (idempotent).
- All prompt docs live under `docs/prompts/codex/` with canonical naming.
- README provides a clear entry map and links to prompts.

> Execute now. If any step is ambiguous, propose the minimal, reversible change and note it in the PR body.
~~~

---

## Section 2 — **Upgrade Prompt (to refine Section 1 over time)**

~~~md
# Futuroptimist — Upgrade Prompt for Section 1

You are operating on the repository: **futuroptimist/futuroptimist**.

**Goal**
Evolve the **Section 1 “Polish Prompt”** above to reflect new conventions, tools, or lessons learned—**without** breaking idempotency or expanding scope beyond polish.

**What to do**
1) **Read** the current Section 1 codeblock verbatim.
2) **Diagnose gaps**:
   - Are layout recommendations aligned with actual repo usage?
   - Do CI/pre-commit steps match what the repo runs today (e.g., `uv`, coverage, link/spell checks)?
   - Are rename/move rules for prompt docs complete and conflict-free?
   - Are README and docs “entry maps” concise and sufficient?
3) **Propose precise edits** to Section 1 language to:
   - Clarify actions that caused reviewer confusion.
   - Tighten idempotency (avoid churny lines; normalize whitespace/ordering where needed).
   - Add/trim steps to keep the prompt under a single PR with small, readable diffs.
4) **Do not** expand into feature work; stay within structure/docs/tests polish.

**Output**
- A **redlined diff** (or exact replacement text) for the Section 1 codeblock.
- A brief rationale list (bullets) summarizing why each change improves clarity or idempotency.

**Constraints**
- Keep the one-click nature and small PR footprint intact.
- Maintain repository interface and CI invariants.

> Produce the updated Section 1 content ready to paste back into this file, then summarize rationale.
~~~
